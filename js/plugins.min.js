function sbi_init(){jQuery("#sb_instagram.sbi").each(function(){var e=jQuery(this),t=e.find("#sbi_images"),n=e.find("#sbi_load .sbi_load_btn"),o="standard_resolution",r=parseInt(this.getAttribute("data-cols"),10),i=this.getAttribute("data-num"),a=JSON.parse(this.getAttribute("data-options")),s="user",l="none",c=this.getAttribute("data-id"),i=this.getAttribute("data-num"),u="",d=[];switch(""!==a.sortby&&(l=a.sortby),this.getAttribute("data-res")){case"auto":var p=jQuery("#sb_instagram").innerWidth(),f=jQuery("#sb_instagram").innerWidth()/r;680>p&&(f=300),480>p&&p>300&&(f=480),o=150>f?"thumbnail":306>f?"low_resolution":"standard_resolution";break;case"thumb":o="thumbnail";break;case"medium":o="low_resolution";break;default:o="standard_resolution"}var m=c.replace(/ /g,"").split(","),h=m,g="",y="https://api.instagram.com/v1/users/"+m[0]+"?access_token="+sb_instagram_js_options.sb_instagram_at;a.headercolor.length&&(g='style="color: #'+a.headercolor+'"'),jQuery.ajax({method:"GET",url:y,dataType:"jsonp",success:function(t){u='<a href="http://instagram.com/'+t.data.username+'" target="_blank" title="@'+t.data.username+'" class="sbi_header_link">',u+='<div class="sbi_header_text">',u+="<h3 "+g,0==t.data.bio.length&&(u+=' class="sbi_no_bio"'),u+=">@"+t.data.username+"</h3>",t.data.bio.length&&(u+='<p class="sbi_bio" '+g+">"+t.data.bio+"</p>"),u+="</div>",u+='<div class="sbi_header_img">',u+='<div class="sbi_header_img_hover"><i class="fa fa-instagram"></i></div>',u+='<img src="'+t.data.profile_picture+'" alt="'+t.data.full_name+'" width="50" height="50">',u+="</div>",u+="</a>",e.find(".sb_instagram_header").prepend(u),e.find(".sbi_follow_btn").length&&e.find(".sbi_follow_btn a").attr("href","http://instagram.com/"+t.data.username)}}),jQuery.each(h,function(r,a){var c=new instagramfeed({target:t,get:s,sortBy:l,resolution:o,limit:parseInt(i,10),template:'<div class="sbi_item sbi_type_{{model.type}} sbi_new" id="sbi_{{id}}" data-date="{{model.created_time_raw}}"><div class="sbi_photo_wrap"><a class="sbi_photo" href="{{link}}" target="_blank"><img src="{{image}}" alt="{{caption}}" /></a></div></div>',filter:function(e){var t=new Date(1e3*e.created_time),n=t.getTime();return e.created_time_raw=n,null!=e.caption&&(e.caption.text=e.caption.text.replace(/"/g,"&quot;")),!0},userId:parseInt(a,10),accessToken:sb_instagram_js_options.sb_instagram_at,after:function(){e.find(".sbi_loader").remove(),this.hasNext()&&d.push("1"),d.length>0?n.show():(n.hide(),e.css("padding-bottom",0)),"function"==typeof sbi_custom_js&&sbi_custom_js(),jQuery("#sb_instagram .sbi_photo").each(function(){jQuery(this).hover(function(){jQuery(this).fadeTo(200,.85)},function(){jQuery(this).stop().fadeTo(500,1)})}),e.find("#sbi_images .sbi_item.sbi_new").sort(function(e,t){var n=jQuery(e).data("date"),o=jQuery(t).data("date");return"none"==l?o-n:Math.round(Math.random())-.5}).appendTo(e.find("#sbi_images")),setTimeout(function(){jQuery("#sbi_images .sbi_item.sbi_new").removeClass("sbi_new"),d=[]},500)},error:function(e){var t="",n="";e.indexOf("access_token")>-1?(t+="<p><b>Error: Access Token is not valid</b><br /><span>This error message is only visible to WordPress admins</span>",n="<p>There's an issue with the Instagram Access Token that you are using. Please obtain a new Access Token on the plugin's Settings page."):e.indexOf("user does not exist")>-1&&(t+="<p><b>Error: The User ID does not exist</b><br /><span>This error is only visible to WordPress admins</span>",n="<p>Please double check the Instagram User ID that you are using. To find your User ID simply enter your Instagram user name into this <a href='http://www.otzberg.net/iguserid/' target='_blank'>tool</a>.</p>"),h.length<2&&jQuery("#sb_instagram").empty().append('<p style="text-align: center;">Unable to show Instagram photos</p><div id="sbi_mod_error">'+t+n+"</div>")}});n.click(function(){c.next()}),c.run()})})}!function(){(function(){var e,t;e=function(){function e(e,t){var n,o;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof e)for(n in e)o=e[n],this.options[n]=o;this.context=null!=t?t:this,this.unique=this._genKey()}return e.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},e.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},e.prototype.run=function(t){var n,o,r;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(r=document.createElement("script"),r.id="instafeed-fetcher",r.src=t||this._buildUrl(),n=document.getElementsByTagName("head"),n[0].appendChild(r),o="instafeedCache"+this.unique,window[o]=new e(this.options,this),window[o].unique=this.unique),!0},e.prototype.parse=function(e){var t,n,o,r,i,a,s,l,c,u,d,p,f,m,h,g,y,v,b,w,x,k;if("object"!=typeof e){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==e.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,e.meta.error_message),!1;throw new Error("Error from Instagram: "+e.meta.error_message)}if(0===e.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,e),this.context.nextUrl="",null!=e.pagination&&(this.context.nextUrl=e.pagination.next_url),"none"!==this.options.sortBy)switch(m="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),f="least"===m[0]?!0:!1,m[1]){case"random":e.data.sort(function(){return.5-Math.random()});break;case"recent":e.data=this._sortBy(e.data,"created_time",f);break;case"liked":e.data=this._sortBy(e.data,"likes.count",f);break;case"commented":e.data=this._sortBy(e.data,"comments.count",f);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(l=e.data,null!=this.options.limit&&l.length>this.options.limit&&(l=l.slice(0,this.options.limit+1||9e9)),n=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(l=this._filter(l,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(r="",a="",u="",h=document.createElement("div"),g=0,b=l.length;b>g;g++)i=l[g],s=i.images[this.options.resolution].url,this.options.useHttp||(s=s.replace("http://","//")),a=this._makeTemplate(this.options.template,{model:i,id:i.id,link:i.link,image:s,caption:this._getObjectProperty(i,"caption.text"),likes:i.likes.count,comments:i.comments.count,location:this._getObjectProperty(i,"location.name")}),r+=a;for(h.innerHTML=r,k=[].slice.call(h.childNodes),y=0,w=k.length;w>y;y++)p=k[y],n.appendChild(p)}else for(v=0,x=l.length;x>v;v++)i=l[v],c=document.createElement("img"),s=i.images[this.options.resolution].url,this.options.useHttp||(s=s.replace("http://","//")),c.src=s,this.options.links===!0?(t=document.createElement("a"),t.href=i.link,t.appendChild(c),n.appendChild(t)):n.appendChild(c);this.options.target.append(n),o=document.getElementsByTagName("head")[0],o.removeChild(document.getElementById("instafeed-fetcher")),d="instafeedCache"+this.unique,window[d]=void 0;try{delete window[d]}catch(E){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},e.prototype._buildUrl=function(){var e,t,n;switch(e="https://api.instagram.com/v1",this.options.get){case"popular":t="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");t="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");t="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the 'userId' option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the 'accessToken' option.");t="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return n=""+e+"/"+t,n+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(n+="&count="+this.options.limit),n+="&callback=instafeedCache"+this.unique+".parse"},e.prototype._genKey=function(){var e;return e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+e()+e()+e()+e()},e.prototype._makeTemplate=function(e,t){var n,o,r,i,a;for(o=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,n=e;o.test(n);)r=n.match(o)[1],i=null!=(a=this._getObjectProperty(t,r))?a:"",n=n.replace(o,""+i);return n},e.prototype._getObjectProperty=function(e,t){var n,o;for(t=t.replace(/\[(\w+)\]/g,".$1"),o=t.split(".");o.length;){if(n=o.shift(),!(null!=e&&n in e))return null;e=e[n]}return e},e.prototype._sortBy=function(e,t,n){var o;return o=function(e,o){var r,i;return r=this._getObjectProperty(e,t),i=this._getObjectProperty(o,t),n?r>i?1:-1:i>r?1:-1},e.sort(o.bind(this)),e},e.prototype._filter=function(e,t){var n,o,r,i,a;for(n=[],r=function(e){return t(e)?n.push(e):void 0},i=0,a=e.length;a>i;i++)o=e[i],r(o);return n},e}(),t="undefined"!=typeof exports&&null!==exports?exports:window,t.instagramfeed=e}).call(this),function(){"use strict";var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,n){if(n="undefined"!=typeof n?n:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,n);var o,r,i=[],a=this.length,s=t||0;s=s>=0?s:a+s;var l=n?n:a;if(0>n&&(l=a+n),r=l-s,r>0)if(i=new Array(r),this.charAt)for(o=0;r>o;o++)i[o]=this.charAt(s+o);else for(o=0;r>o;o++)i[o]=this[s+o];return i}}}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,o=function(){},r=function(){return n.apply(this instanceof o&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,r.prototype=new o,r})}(jQuery),sbi_init(),!function(e,t,n){function o(e,t){return typeof e===t}function r(){var e,t,n,r,i,a,s;for(var l in v){if(e=[],t=v[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)a=e[i],s=a.split("."),1===s.length?w[s[0]]=r:(!w[s[0]]||w[s[0]]instanceof Boolean||(w[s[0]]=new Boolean(w[s[0]])),w[s[0]][s[1]]=r),y.push((r?"":"no-")+s.join("-"))}}function i(e){var t=_.className,n=w._config.classPrefix||"";if(w._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(o,"$1"+n+"js$2")}w._config.enableClasses&&(t+=" "+n+e.join(" "+n),_.className=t)}function a(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function s(){var e=t.body;return e||(e=C("body"),e.fake=!0),e}function l(e,t,n,o){var r,i,a,l,c="modernizr",u=C("div"),d=s();if(parseInt(n,10))for(;n--;)a=C("div"),a.id=o?o[n]:c+(n+1),u.appendChild(a);return r=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),u.id=c,(d.fake?d:u).innerHTML+=r,d.appendChild(u),d.fake&&(d.style.background="",d.style.overflow="hidden",l=_.style.overflow,_.style.overflow="hidden",_.appendChild(d)),i=t(u,e),d.fake?(d.parentNode.removeChild(d),_.style.overflow=l,_.offsetHeight):u.parentNode.removeChild(u),!!i}function c(e,t){return!!~(""+e).indexOf(t)}function u(e,t){return function(){return e.apply(t,arguments)}}function d(e,t,n){var r;for(var i in e)if(e[i]in t)return n===!1?e[i]:(r=t[e[i]],o(r,"function")?u(r,n||t):r);return!1}function p(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(t,o){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(p(t[r]),o))return!0;return!1}if("CSSSupportsRule"in e){for(var i=[];r--;)i.push("("+p(t[r])+":"+o+")");return i=i.join(" or "),l("@supports ("+i+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function m(e,t,r,i){function s(){u&&(delete L.style,delete L.modElem)}if(i=o(i,"undefined")?!1:i,!o(r,"undefined")){var l=f(e,r);if(!o(l,"undefined"))return l}var u,d,p,m,h;for(L.style||(u=!0,L.modElem=C("modernizr"),L.style=L.modElem.style),p=e.length,d=0;p>d;d++)if(m=e[d],h=L.style[m],c(m,"-")&&(m=a(m)),L.style[m]!==n){if(i||o(r,"undefined"))return s(),"pfx"==t?m:!0;try{L.style[m]=r}catch(g){}if(L.style[m]!=h)return s(),"pfx"==t?m:!0}return s(),!1}function h(e,t,n,r,i){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+F.join(a+" ")+a).split(" ");return o(t,"string")||o(t,"undefined")?m(s,t,r,i):(s=(e+" "+S.join(a+" ")+a).split(" "),d(s,t,n))}function g(e,t,o){return h(e,n,n,t,o)}var y=[];!function(e,t){function n(e,t){var n=e.createElement("p"),o=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",o.insertBefore(n.lastChild,o.firstChild)}function o(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function r(e,t){var n=b.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),b.elements=n+" "+e,c(t)}function i(e){var t=v[e[g]];return t||(t={},y++,e[g]=y,v[y]=t),t}function a(e,n,o){if(n||(n=t),d)return n.createElement(e);o||(o=i(n));var r;return r=o.cache[e]?o.cache[e].cloneNode():h.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e),!r.canHaveChildren||m.test(e)||r.tagUrn?r:o.frag.appendChild(r)}function s(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||i(e);for(var r=n.frag.cloneNode(),a=0,s=o(),l=s.length;l>a;a++)r.createElement(s[a]);return r}function l(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return b.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function c(e){e||(e=t);var o=i(e);return!b.shivCSS||u||o.hasCSS||(o.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||l(e,o),e}var u,d,p="3.7.2",f=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",y=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,d=!0}}();var b={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:p,shivCSS:f.shivCSS!==!1,supportsUnknownElements:d,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:a,createDocumentFragment:s,addElements:r};e.html5=b,c(t)}(this,t);var v=[],b={_version:"3.0.0-alpha.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){v.push({name:e,fn:t,options:n})},addAsyncTest:function(e){v.push({name:null,fn:e})}},w=function(){};w.prototype=b,w=new w,w.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var x=function(){},k=function(){};e.console&&(x=function(){var t=console.error?"error":"log";e.console[t].apply(e.console,Array.prototype.slice.call(arguments))},k=function(){var t=console.warn?"warn":"log";e.console[t].apply(e.console,Array.prototype.slice.call(arguments))}),b.load=function(){"yepnope"in e?(k("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so we’ll use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information."),e.yepnope.apply(e,[].slice.call(arguments,0))):x("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.")};var E=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];b._prefixes=E;var _=t.documentElement,T="Moz O ms Webkit",S=b._config.usePrefixes?T.toLowerCase().split(" "):[];b._domPrefixes=S;var C=function(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):t.createElement.apply(t,arguments)};w.addTest("opacity",function(){var e=C("div"),t=e.style;return t.cssText=E.join("opacity:.55;"),/^0.55$/.test(t.opacity)}),w.addTest("audio",function(){var e=C("audio"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return t}),w.addTest("video",function(){var e=C("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(n){}return t}),w.addTest("inlinesvg",function(){var e=C("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(e.firstChild&&e.firstChild.namespaceURI)}),w.addTest("placeholder","placeholder"in C("input")&&"placeholder"in C("textarea"));var A="CSS"in e&&"supports"in e.CSS,j="supportsCSS"in e;w.addTest("supports",A||j);var P=C("input"),z="search tel url email datetime date month week time datetime-local number range color".split(" "),O={},M=":)";w.inputtypes=function(e){for(var o,r,i,a=e.length,s=0;a>s;s++)P.setAttribute("type",r=e[s]),o="text"!==P.type,o&&(P.value=M,P.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&P.style.WebkitAppearance!==n?(_.appendChild(P),i=t.defaultView,o=i.getComputedStyle&&"textfield"!==i.getComputedStyle(P,null).WebkitAppearance&&0!==P.offsetHeight,_.removeChild(P)):/^(search|tel)$/.test(r)||(o=/^(url|email|number)$/.test(r)?P.checkValidity&&P.checkValidity()===!1:P.value!=M)),O[e[s]]=!!o;return O}(z);var N={},I="autocomplete autofocus list placeholder max min multiple pattern required step".split(" ");w.input=function(t){for(var n=0,o=t.length;o>n;n++)N[t[n]]=!!(t[n]in P);return N.list&&(N.list=!(!C("datalist")||!e.HTMLDataListElement)),N}(I);var F=b._config.usePrefixes?T.split(" "):[];b._cssomPrefixes=F;var $=function(t){var o,r=E.length,i=e.CSSRule;if("undefined"==typeof i)return n;if(!t)return!1;if(t=t.replace(/^@/,""),o=t.replace(/-/g,"_").toUpperCase()+"_RULE",o in i)return"@"+t;for(var a=0;r>a;a++){var s=E[a],l=s.toUpperCase()+"_"+o;if(l in i)return"@-"+s.toLowerCase()+"-"+t}return!1},R=b.testStyles=l,q={elem:C("modernizr")};w._q.push(function(){delete q.elem});var L={style:q.elem.style};w._q.unshift(function(){delete L.style});var B=b.testProp=function(e,t,o){return m([e],n,t,o)};w.addTest("textshadow",B("textShadow","1px 1px")),b.testAllProps=h;var H=b.prefixed=function(e,t,n){return 0===e.indexOf("@")?$(e):(-1!=e.indexOf("-")&&(e=a(e)),t?h(e,t,n):h(e,"pfx"))};w.addTest("backgroundblendmode",H("backgroundBlendMode","text")),b.testAllProps=g,w.addTest("backgroundsize",g("backgroundSize","100%",!0)),w.addTest("borderradius",g("borderRadius","0px",!0)),w.addTest("boxshadow",g("boxShadow","1px 1px",!0)),w.addTest("cssanimations",g("animationName","a",!0)),w.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&g("transform","scale(1)",!0)}),w.addTest("csstransforms3d",function(){var e=!!g("perspective","1px",!0),t=w._config.usePrefixes;if(e&&(!t||"webkitPerspective"in _.style)){var n;w.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0}}",R(n,function(t){e=9===t.offsetLeft&&5===t.offsetHeight})}return e}),w.addTest("csstransitions",g("transition","all",!0)),r(),i(y),delete b.addTest,delete b.addAsyncTest;for(var U=0;U<w._q.length;U++)w._q[U]();e.Modernizr=w}(window,document),!function(e){"use strict";e.matchMedia=e.matchMedia||function(e){var t,n=e.documentElement,o=n.firstElementChild||n.firstChild,r=e.createElement("body"),i=e.createElement("div");return i.id="mq-test-1",i.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(i),function(e){return i.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(r,o),t=42===i.offsetWidth,n.removeChild(r),{matches:t,media:e}}}(e.document)}(this),function(e){"use strict";function t(){w(!0)}var n={};e.respond=n,n.update=function(){};var o=[],r=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),i=function(e,t){var n=r();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))};if(n.ajax=i,n.queue=o,n.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,minh:/\([\s]*min\-height\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxh:/\([\s]*max\-height\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},n.mediaQueriesSupported=e.matchMedia&&null!==e.matchMedia("only all")&&e.matchMedia("only all").matches,!n.mediaQueriesSupported){var a,s,l,c=e.document,u=c.documentElement,d=[],p=[],f=[],m={},h=30,g=c.getElementsByTagName("head")[0]||u,y=c.getElementsByTagName("base")[0],v=g.getElementsByTagName("link"),b=function(){var e,t=c.createElement("div"),n=c.body,o=u.style.fontSize,r=n&&n.style.fontSize,i=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=i=c.createElement("body"),n.style.background="none"),u.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),i&&u.insertBefore(n,u.firstChild),e=t.offsetWidth,i?u.removeChild(n):n.removeChild(t),u.style.fontSize=o,r&&(n.style.fontSize=r),e=l=parseFloat(e)},w=function(t){var n="clientWidth",o=u[n],r="CSS1Compat"===c.compatMode&&o||c.body[n]||o,i="clientHeight",m=u[i],y="CSS1Compat"===c.compatMode&&m||c.body[i]||m,x={},k=v[v.length-1],E=(new Date).getTime();if(t&&a&&h>E-a)return e.clearTimeout(s),void(s=e.setTimeout(w,h));a=E;for(var _ in d)if(d.hasOwnProperty(_)){var T=d[_],S=T.minw,C=T.maxw,A=T.minh,j=T.maxh,P=null===S,z=null===C,O=null===A,M=null===j,N="em";S&&(S=parseFloat(S)*(S.indexOf(N)>-1?l||b():1)),C&&(C=parseFloat(C)*(C.indexOf(N)>-1?l||b():1)),A&&(A=parseFloat(A)*(A.indexOf(N)>-1?l||b():1)),j&&(j=parseFloat(j)*(j.indexOf(N)>-1?l||b():1)),T.hasquery&&(P&&z&&O&&M||!(P||r>=S)||!(z||C>=r)||!(O||y>=A)||!(M||j>=y))||(x[T.media]||(x[T.media]=[]),x[T.media].push(p[T.rules]))}for(var I in f)f.hasOwnProperty(I)&&f[I]&&f[I].parentNode===g&&g.removeChild(f[I]);for(var F in x)if(x.hasOwnProperty(F)){var $=c.createElement("style"),R=x[F].join("\n");$.type="text/css",$.media=F,g.insertBefore($,k.nextSibling),$.styleSheet?$.styleSheet.cssText=R:$.appendChild(c.createTextNode(R)),f.push($)}},x=function(e,t,o){var r=e.replace(n.regex.keyframes,"").match(n.regex.media),i=r&&r.length||0;t=t.substring(0,t.lastIndexOf("/"));var a=function(e){return e.replace(n.regex.urls,"$1"+t+"$2$3")},s=!i&&o;t.length&&(t+="/"),s&&(i=1);for(var l=0;i>l;l++){var c,u,f,m;s?(c=o,p.push(a(e))):(c=r[l].match(n.regex.findStyles)&&RegExp.$1,p.push(RegExp.$2&&a(RegExp.$2))),f=c.split(","),m=f.length;for(var h=0;m>h;h++)u=f[h],d.push({media:u.split("(")[0].match(n.regex.only)&&RegExp.$2||"all",rules:p.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(n.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(n.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),minh:u.match(n.regex.minh)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxh:u.match(n.regex.maxh)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}w()},k=function(){if(o.length){var t=o.shift();i(t.href,function(n){x(n,t.href,t.media),m[t.href]=!0,e.setTimeout(function(){k()},0)})}},E=function(){for(var t=0;t<v.length;t++){var n=v[t],r=n.href,i=n.media,a=n.rel&&"stylesheet"===n.rel.toLowerCase(),s=n.getAttribute("data-no-respond");r&&a&&!m[r]&&null===s&&(n.styleSheet&&n.styleSheet.rawCssText?(x(n.styleSheet.rawCssText,r,i),m[r]=!0):(!/^([a-zA-Z:]*\/\/)/.test(r)&&!y||r.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&("//"===r.substring(0,2)&&(r=e.location.protocol+r),o.push({href:r,media:i})))}k()};E(),n.update=E,n.getEmValue=b,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.scrollReveal=t()}(this,function(){return window.scrollReveal=function(e){"use strict";function t(n){return this instanceof t?(i=this,i.elems={},i.serial=1,i.blocked=!1,i.config=o(i.defaults,n),i.isMobile()&&!i.config.mobile||!i.isSupported()?void i.destroy():(i.config.viewport===e.document.documentElement?(e.addEventListener("scroll",r,!1),e.addEventListener("resize",r,!1)):i.config.viewport.addEventListener("scroll",r,!1),void i.init(!0))):new t(n)}var n,o,r,i;return t.prototype={defaults:{enter:"bottom",move:"8px",over:"0.6s",wait:"0s",easing:"ease",scale:{direction:"up",power:"5%"},rotate:{x:0,y:0,z:0},opacity:0,mobile:!1,reset:!1,viewport:e.document.documentElement,delay:"once",vFactor:.6,complete:function(){}},init:function(e){var t,n,o;o=Array.prototype.slice.call(i.config.viewport.querySelectorAll("[data-sr]")),o.forEach(function(e){t=i.serial++,n=i.elems[t]={domEl:e},n.config=i.configFactory(n),n.styles=i.styleFactory(n),n.seen=!1,e.removeAttribute("data-sr"),e.setAttribute("style",n.styles.inline+n.styles.initial)}),i.scrolled=i.scrollY(),i.animate(e)},animate:function(e){function t(e){var t=i.elems[e];setTimeout(function(){t.domEl.setAttribute("style",t.styles.inline),t.config.complete(t.domEl),delete i.elems[e]},t.styles.duration)}var n,o,r;for(n in i.elems)i.elems.hasOwnProperty(n)&&(o=i.elems[n],r=i.isElemInViewport(o),r?("always"===i.config.delay||"onload"===i.config.delay&&e||"once"===i.config.delay&&!o.seen?o.domEl.setAttribute("style",o.styles.inline+o.styles.target+o.styles.transition):o.domEl.setAttribute("style",o.styles.inline+o.styles.target+o.styles.reset),o.seen=!0,o.config.reset||o.animating||(o.animating=!0,t(n))):!r&&o.config.reset&&o.domEl.setAttribute("style",o.styles.inline+o.styles.initial+o.styles.reset));i.blocked=!1},configFactory:function(e){var t={},n={},r=e.domEl.getAttribute("data-sr").split(/[, ]+/);return r.forEach(function(e,n){switch(e){case"enter":t.enter=r[n+1];break;case"wait":t.wait=r[n+1];break;case"move":t.move=r[n+1];break;case"ease":t.move=r[n+1],t.ease="ease";break;case"ease-in":if("up"==r[n+1]||"down"==r[n+1]){t.scale.direction=r[n+1],t.scale.power=r[n+2],t.easing="ease-in";break}t.move=r[n+1],t.easing="ease-in";break;case"ease-in-out":if("up"==r[n+1]||"down"==r[n+1]){t.scale.direction=r[n+1],t.scale.power=r[n+2],t.easing="ease-in-out";break}t.move=r[n+1],t.easing="ease-in-out";break;case"ease-out":if("up"==r[n+1]||"down"==r[n+1]){t.scale.direction=r[n+1],t.scale.power=r[n+2],t.easing="ease-out";break}t.move=r[n+1],t.easing="ease-out";break;case"hustle":if("up"==r[n+1]||"down"==r[n+1]){t.scale.direction=r[n+1],t.scale.power=r[n+2],t.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break}t.move=r[n+1],t.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break;case"over":t.over=r[n+1];break;case"flip":case"pitch":t.rotate=t.rotate||{},t.rotate.x=r[n+1];break;case"spin":case"yaw":t.rotate=t.rotate||{},t.rotate.y=r[n+1];break;case"roll":t.rotate=t.rotate||{},t.rotate.z=r[n+1];break;case"reset":t.reset="no"==r[n-1]?!1:!0;break;case"scale":if(t.scale={},"up"==r[n+1]||"down"==r[n+1]){t.scale.direction=r[n+1],t.scale.power=r[n+2];break}t.scale.power=r[n+1];break;case"vFactor":case"vF":t.vFactor=r[n+1];break;case"opacity":t.opacity=r[n+1];break;default:return}}),n=o(n,i.config),n=o(n,t),"top"===n.enter||"bottom"===n.enter?n.axis="Y":("left"===n.enter||"right"===n.enter)&&(n.axis="X"),("top"===n.enter||"left"===n.enter)&&(n.move="-"+n.move),n},styleFactory:function(e){function t(){0!==parseInt(s.move)&&(o+=" translate"+s.axis+"("+s.move+")",i+=" translate"+s.axis+"(0)"),0!==parseInt(s.scale.power)&&("up"===s.scale.direction?s.scale.value=1-.01*parseFloat(s.scale.power):"down"===s.scale.direction&&(s.scale.value=1+.01*parseFloat(s.scale.power)),o+=" scale("+s.scale.value+")",i+=" scale(1)"),s.rotate.x&&(o+=" rotateX("+s.rotate.x+")",i+=" rotateX(0)"),s.rotate.y&&(o+=" rotateY("+s.rotate.y+")",i+=" rotateY(0)"),s.rotate.z&&(o+=" rotateZ("+s.rotate.z+")",i+=" rotateZ(0)"),o+="; opacity: "+s.opacity+"; ",i+="; opacity: 1; "}var n,o,r,i,a,s=e.config,l=1e3*(parseFloat(s.over)+parseFloat(s.wait));return n=e.domEl.getAttribute("style")?e.domEl.getAttribute("style")+"; visibility: visible; ":"visibility: visible; ",a="-webkit-transition: -webkit-transform "+s.over+" "+s.easing+" "+s.wait+", opacity "+s.over+" "+s.easing+" "+s.wait+"; transition: transform "+s.over+" "+s.easing+" "+s.wait+", opacity "+s.over+" "+s.easing+" "+s.wait+"; -webkit-perspective: 1000;-webkit-backface-visibility: hidden;",r="-webkit-transition: -webkit-transform "+s.over+" "+s.easing+" 0s, opacity "+s.over+" "+s.easing+" 0s; transition: transform "+s.over+" "+s.easing+" 0s, opacity "+s.over+" "+s.easing+" 0s; -webkit-perspective: 1000; -webkit-backface-visibility: hidden; ",o="transform:",i="transform:",t(),o+="-webkit-transform:",i+="-webkit-transform:",t(),{transition:a,initial:o,target:i,reset:r,inline:n,duration:l}},getViewportH:function(){var t=i.config.viewport.clientHeight,n=e.innerHeight;return i.config.viewport===e.document.documentElement&&n>t?n:t},scrollY:function(){return i.config.viewport===e.document.documentElement?e.pageYOffset:i.config.viewport.scrollTop+i.config.viewport.offsetTop},getOffset:function(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);
while(e=e.offsetParent);return{top:t,left:n}},isElemInViewport:function(t){function n(){var e=a+r*l,t=s-r*l,n=i.scrolled+i.getViewportH(),o=i.scrolled;return n>e&&t>o}function o(){var n=t.domEl,o=n.currentStyle||e.getComputedStyle(n,null);return"fixed"===o.position}var r=t.domEl.offsetHeight,a=i.getOffset(t.domEl).top,s=a+r,l=t.config.vFactor||0;return n()||o()},isMobile:function(){var t=navigator.userAgent||navigator.vendor||e.opera;return/(ipad|playbook|silk|android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:!1},isSupported:function(){for(var e=document.createElement("sensor"),t="Webkit,Moz,O,".split(","),n=("transition "+t.join("transition,")).split(","),o=0;o<n.length;o++)if(""===!e.style[n[o]])return!1;return!0},destroy:function(){var e=i.config.viewport,t=Array.prototype.slice.call(e.querySelectorAll("[data-sr]"));t.forEach(function(e){e.removeAttribute("data-sr")})}},r=function(){i.blocked||(i.blocked=!0,i.scrolled=i.scrollY(),n(function(){i.animate()}))},o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),t}(window),scrollReveal}),!function(e,t,n){"use strict";if(!t.history.pushState)return e.fn.smoothState=function(){return this},void(e.fn.smoothState.options={});if(!e.fn.smoothState){var o=e("html, body"),r=t.console,i={debug:!1,anchors:"a",forms:"form",blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",cacheLength:0,loadingClass:"is-loading",alterRequest:function(e){return e},onBefore:function(){},onStart:{duration:0,render:function(){}},onProgress:{duration:0,render:function(){}},onReady:{duration:0,render:function(e,t){e.html(t)}},onAfter:function(){}},a={isExternal:function(e){var n=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof n[1]&&n[1].length>0&&n[1].toLowerCase()!==t.location.protocol?!0:"string"==typeof n[2]&&n[2].length>0&&n[2].replace(new RegExp(":("+{"http:":80,"https:":443}[t.location.protocol]+")?$"),"")!==t.location.host?!0:!1},stripHash:function(e){return e.replace(/#.*/,"")},isHash:function(e,n){n=n||t.location.href;var o=e.indexOf("#")>-1?!0:!1,r=a.stripHash(e)===a.stripHash(n)?!0:!1;return o&&r},translate:function(t){var n={dataType:"html",type:"GET"};return t="string"==typeof t?e.extend({},n,{url:t}):e.extend({},n,t)},shouldLoadAnchor:function(e,t){var n=e.prop("href");return!(a.isExternal(n)||a.isHash(n)||e.is(t)||e.prop("target"))},clearIfOverCapacity:function(e,t){return Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Object.keys(e).length>t&&(e={}),e},storePageIn:function(t,n,o,r){var i=e(o);return t[n]={status:"loaded",title:i.filter("title").first().text(),html:i.filter("#"+r)},t},triggerAllAnimationEndEvent:function(t,n){n=" "+n||"";var o=0,r="animationstart webkitAnimationStart oanimationstart MSAnimationStart",i="animationend webkitAnimationEnd oanimationend MSAnimationEnd",s="allanimationend",l=function(n){e(n.delegateTarget).is(t)&&(n.stopPropagation(),o++)},c=function(n){e(n.delegateTarget).is(t)&&(n.stopPropagation(),o--,0===o&&t.trigger(s))};t.on(r,l),t.on(i,c),t.on("allanimationend"+n,function(){o=0,a.redraw(t)})},redraw:function(e){e.height()}},s=function(n){if(null!==n.state){var o=t.location.href,r=e("#"+n.state.id),i=r.data("smoothState");i.href===o||a.isHash(o,i.href)||i.load(o,!1)}},l=function(i,s){var l=e(i),c=l.prop("id"),u=null,d=!1,p={},f=t.location.href,m=function(e){e=e||!1,e&&p.hasOwnProperty(e)?delete p[e]:p={},l.data("smoothState").cache=p},h=function(t,n){n=n||e.noop;var o=a.translate(t);if(!p.hasOwnProperty(o.url)||"undefined"!=typeof o.data){p=a.clearIfOverCapacity(p,s.cacheLength),p[o.url]={status:"fetching"};var r=e.ajax(o);r.success(function(e){a.storePageIn(p,o.url,e,c),l.data("smoothState").cache=p}),r.error(function(){p[o.url].status="error"}),n&&r.complete(n)}},g=function(){if(u){var t=e(u,l);if(t.length){var o=t.offset().top;n.body.scrollTop=o}u=null}},y=function(i){var a="#"+c,u=p[i]?e(p[i].html.html()):null;u.length?(n.title=p[i].title,l.data("smoothState").href=i,s.loadingClass&&o.removeClass(s.loadingClass),s.onReady.render(l,u),l.one("ss.onReadyEnd",function(){d=!1,s.onAfter(l,u),g()}),t.setTimeout(function(){l.trigger("ss.onReadyEnd")},s.onReady.duration)):!u&&s.debug&&r?r.warn("No element with an id of "+a+" in response from "+i+" in "+p):t.location=i},v=function(e,n){var i=a.translate(e);"undefined"==typeof n&&(n=!0);var u=!1,d=!1,f={loaded:function(){var e=u?"ss.onProgressEnd":"ss.onStartEnd";d&&u?d&&y(i.url):l.one(e,function(){y(i.url)}),n&&t.history.pushState({id:c},p[i.url].title,i.url)},fetching:function(){u||(u=!0,l.one("ss.onStartEnd",function(){s.loadingClass&&o.addClass(s.loadingClass),s.onProgress.render(l),t.setTimeout(function(){l.trigger("ss.onProgressEnd"),d=!0},s.onProgress.duration)})),t.setTimeout(function(){p.hasOwnProperty(i.url)&&f[p[i.url].status]()},10)},error:function(){s.debug&&r?r.log("There was an error loading: "+i.url):t.location=i.url}};p.hasOwnProperty(i.url)||h(i),s.onStart.render(l),t.setTimeout(function(){o.scrollTop(0),l.trigger("ss.onStartEnd")},s.onStart.duration),f[p[i.url].status]()},b=function(t){var n,o=e(t.currentTarget);a.shouldLoadAnchor(o,s.blacklist)&&!d&&(t.stopPropagation(),n=a.translate(o.prop("href")),n=s.alterRequest(n),h(n))},w=function(t){var n=e(t.currentTarget);if(!t.metaKey&&!t.ctrlKey&&a.shouldLoadAnchor(n,s.blacklist)){var o=a.translate(n.prop("href"));d=!0,t.stopPropagation(),t.preventDefault(),u=n.prop("hash"),o=s.alterRequest(o),s.onBefore(n,l),v(o)}},x=function(t){var n=e(t.currentTarget);if(!n.is(s.blacklist)){t.preventDefault(),t.stopPropagation();var o={url:n.prop("action"),data:n.serialize(),type:n.prop("method")};d=!0,o=s.alterRequest(o),"get"===o.type.toLowerCase()&&(o.url=o.url+"?"+o.data),s.onBefore(n,l),v(o)}},k=function(e){e.on("click",s.anchors,w),e.on("submit",s.forms,x),s.prefetch&&e.on(s.prefetchOn,s.anchors,b)},E=function(){var e=l.prop("class");l.removeClass(e),a.redraw(l),l.addClass(e)};return s=e.extend({},e.fn.smoothState.options,s),null===t.history.state&&t.history.replaceState({id:c},n.title,f),a.storePageIn(p,f,n.documentElement.outerHTML,c),a.triggerAllAnimationEndEvent(l,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),k(l),{href:f,cache:p,clear:m,load:v,fetch:h,restartCSSAnimations:E}},c=function(t){return this.each(function(){var n=this.tagName.toLowerCase();this.id&&"body"!==n&&"html"!==n&&!e.data(this,"smoothState")?e.data(this,"smoothState",new l(this,t)):!this.id&&r?r.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==n&&"html"!==n||!r||r.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};t.onpopstate=s,e.smoothStateUtility=a,e.fn.smoothState=c,e.fn.smoothState.options=i}}(jQuery,window,document);